{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../EventItem.svelte",
    "../../LoginPage.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport { onMount } from \"svelte\";\n\timport * as api from \"./api\";\n\timport * as user from \"./user\";\n\timport { Router, Route } from \"svelte-routing\";\n\timport {createEventDispatcher} from \"svelte\";\n\n\timport NavLink from \"./components/NavLink.svelte\";\n  import EventList from \"./routes/EventList.svelte\";\n  import LoginPage from \"./routes/LoginPage.svelte\";\n  import { get } from 'svelte/store';\n  import { loggedIn } from './store';\n\n\n\texport let name, events;\n\texport let url = \"\";\n\n  onMount(async () => {\n    let response = await api.checkSession();\n\t\tif (!response.is_authenticated && get(loggedIn) === true) {\n\t\t\tawait logout()\n\t\t}\n\t})\n\n\tasync function logout() {\n  \tawait user.logout();\n\t\tloggedIn.set(false);\n\t}\n\n</script>\n\n<main>\n\t<h1>Main page</h1>\n\n\t<Router url=\"{url}\">\n  <nav>\n\t\t{#if $loggedIn}\n\t\t\t<a on:click={async () => { await logout() }}>Logout</a>\n\t\t{:else}\n\t\t\t<NavLink to=\"sign-up\">Sign up</NavLink>\n\t\t\t<NavLink to=\"login\">Login</NavLink>\n\t\t{/if}\n    <NavLink to=\"events\">Events List</NavLink>\n  </nav>\n  <div>\n    <Route path=\"events\" component=\"{EventList}\" />\n    <Route path=\"login\" component=\"{LoginPage}\" />\n\t\t<Route path=\"sign-up\" let:params>\n\t\t\t<LoginPage isLoginPage={false}/>\n\t\t</Route>\n  </div>\n\t</Router>\n\n\t\n</main>\n\n<style>\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n\t\tmax-width: 240px;\n\t\tmargin: 0 auto;\n\t}\n\n\th1 {\n\t\tcolor: #ff3e00;\n\t\ttext-transform: uppercase;\n\t\tfont-size: 4em;\n\t\tfont-weight: 100;\n\t}\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>\n",
    "<script>\n\n\texport let event;\n\n\timport * as api from \"../api\";\n\timport {loggedIn, events} from '../store';\n\timport CreateEvent from \"../components/CreateEvent.svelte\";\n\n\t\n\tasync function withdraw() {\n\t\tconsole.log(event);\n\n\t\tlet res = await api.withdraw(event.id);\n\t\tif (res) {\n\t\t\tevent.has_participation = false;\n\t\t\tevent.participants_count -= 1;\n\t\t}\n\t}\n\n\tasync function participate() {\n\t\tconsole.log(event);\n\t\tlet res = await api.participate(event.id);\n\n\t\tif (res) {\n\t\t\tevent.has_participation = true;\n\t\t\tevent.participants_count += 1;\n\t\t}\n\t}\n\t\n</script>\n\n<style>\n\tarticle {\n\t\tmargin: 0 0 1em 0;\n\t}\n\th1 {\n\t\tfont-size: 1.4em;\n\t\tmargin: 0;\n\t\tdisplay: block;\n\t}\n</style>\n\n<article>\n\t\t<h1>{event.title}</h1>\n\t\t<p>{event.description}</p>\n\n\t\t<small>\n\t\t\tOwner: <b>{event.owner_name}</b>\n\t\t</small><br/>\n\t\t<small>\n\t\t\tDate: <b>{event.date_start}</b>\n\t\t</small><br/>\n\t\t<small>\n\t\t\tParticipants: <b>{event.participants_count}</b>\n\t\t</small>\n\n\t  {#if loggedIn}\n\t\t{#if event.has_participation}\n\t\t\t<p>You will participate</p>\n\t\t\t<button on:click={async () => { await withdraw() }}>\n\t\t\t\tWithdraw\n\t\t\t</button>\n\t\t{:else}\n\t\t\t<button on:click={async () => { await participate() }}>\n\t\t\t\tParticipate\n\t\t\t</button>\n\t\t{/if}\n\t\t{:else}\n\t\t\t<p>Log in to participate</p>\n\t  {/if}\n\t\t\n</article>\n",
    "<script>\n  import {login, signUp} from '../api';\n  import * as user from \"../user\";\n  import { navigate } from \"svelte-routing\";\n  import { loggedIn } from '../store';\n\n  let email = \"\";\n  let password = \"\";\n\n  export let isLoginPage = true;\n  export let submit;\n\n  let isLoading = false;\n  let isSuccess = false;\n  let errors = {};\n  let apiHandler = isLoginPage ? login : signUp;\n\n  const handleSubmit = () => {\n    errors = {};\n\n    if (email.length === 0) {\n      errors.email = \"Field should not be empty\";\n    }\n    if (password.length === 0) {\n      errors.password = \"Field should not be empty\";\n    }\n\n    if (Object.keys(errors).length === 0) {\n      isLoading = true;\n      apiHandler(email, password)\n        .then((response) => {\n          isLoading = false;\n          if (response.status === 200 || response.status === 201) {\n            isSuccess = true;\n            isLoading = false;\n            user.setLoggedIn();\n            loggedIn.set(true);\n            navigate(\"/events\", { replace: true });\n          } else {\n            response.json().then((data) => {\n              errors = data;\n            });\n          }\n        })\n        .catch(err => {\n          errors.server = err;\n          isLoading = false;\n        });\n    }\n  };\n</script>\n\n<style>\n  form {\n    background: #fff;\n    padding: 50px;\n    width: 250px;\n    height: 400px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    box-shadow: 0px 20px 14px 8px rgba(0, 0, 0, 0.58);\n  }\n\n  label {\n    margin: 10px 0;\n    align-self: flex-start;\n    font-weight: 500;\n  }\n\n  input {\n    border: none;\n    border-bottom: 1px solid #ccc;\n    margin-bottom: 20px;\n    transition: all 300ms ease-in-out;\n    width: 100%;\n  }\n\n  input:focus {\n    outline: 0;\n    border-bottom: 1px solid #666;\n  }\n\n  button {\n    margin-top: 20px;\n    background: black;\n    color: white;\n    padding: 10px 0;\n    width: 200px;\n    border-radius: 25px;\n    text-transform: uppercase;\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 300ms ease-in-out;\n  }\n\n  button:hover {\n    transform: translateY(-2.5px);\n    box-shadow: 0px 1px 10px 0px rgba(0, 0, 0, 0.58);\n  }\n\n  h1 {\n    margin: 10px 20px 30px 20px;\n    font-size: 40px;\n  }\n\n  .errors {\n    list-style-type: none;\n    padding: 10px;\n    margin: 0;\n    border: 2px solid #be6283;\n    color: #be6283;\n    background: rgba(190, 98, 131, 0.3);\n  }\n\n  .success {\n    font-size: 24px;\n    text-align: center;\n  }\n</style>\n\n<form on:submit|preventDefault={handleSubmit}>\n  {#if isSuccess}\n    <div class=\"success\">\n      ðŸ”“\n      <br />\n      You've been successfully logged in.\n    </div>\n  {:else}\n    <h1>ðŸ‘¤</h1>\n\n    <label>Email</label>\n    <input name=\"email\" placeholder=\"name@example.com\" bind:value={email} />\n\n    <label>Password</label>\n    <input name=\"password\" type=\"password\" bind:value={password} />\n\n    <button type=\"submit\">\n      {#if isLoginPage}\n        {#if isLoading}Logging in...{:else}Log in ðŸ”’{/if}\n      {:else}\n        {#if isLoading}Sign up...{:else}Sign up ðŸ”’{/if}\n      {/if}\n    </button>\n\n    {#if Object.keys(errors).length > 0}\n      <ul class=\"errors\">\n        {#each Object.keys(errors) as field}\n          <li>{field}: {errors[field]}</li>\n        {/each}\n      </ul>\n    {/if}\n  {/if}\n</form>\n"
  ],
  "names": [],
  "mappings": "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"
}